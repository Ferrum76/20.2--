{% extends 'catalog/base.html' %}
{% load my_tags %}
{% block content %}
<div class="d-grid gap-2 col-2 mx-auto mb-4">
    {% if user.is_authenticated %}
    <a href="{% url 'catalog:product_create' %}" type="button" class="btn btn-lg btn-block btn-primary">Создать
        продукт</a>
    {% endif %}
</div>
<div class="row text-center">
    {% for product in object_list %}
    <div class="col-3">
        <div class="card mb-4 box-shadow">
            <img src="{{ product.image | media_filter }}">

            <div class="card-body">
                <h1 class="card-title pricing-card-title">{{ product.name }}</h1>
                <ul class="list-unstyled mt-3 mb-4 text-start m-3">
                    <li>Описание: {{ product.description | truncatechars_html:100 }}</li>
                </ul>
                <a class="btn btn-primary" href="{% url 'catalog:products_detail' product.pk %}"
                   role="button">Подробнее</a>
                <div class="card m-4 box-shadow">

                    {% for version in product.versions.all %}
                        {% if version.version_sign %}
                            <p>Версия: {{ version.version_number }} Название: {{ version.version_name }}</p>
                        {% endif %}
                    {% endfor %}
                </div>

            </div>

        </div>
    </div>
    {% endfor %}
</div>
{% endblock %}
